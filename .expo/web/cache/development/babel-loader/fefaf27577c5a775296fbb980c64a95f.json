{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\aisla\\\\visual_code_projects\\\\eContractRh\\\\src\\\\paginas\\\\login\\\\index.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport PropTypes from 'prop-types';\nimport api from \"../../services/api\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport 'react-native-gesture-handler';\nimport { StackActions, NavigationActions, SwitchActions } from 'react-navigation';\nimport * as ScreenOrientation from 'expo-screen-orientation';\nimport { styles } from \"../../styles/styles\";\n\nvar avisar = function avisar(message) {\n  ToastAndroid.showWithGravityAndOffset(message, ToastAndroid.LONG, ToastAndroid.BOTTOM, 25, 50);\n  return null;\n};\n\nvar stylesLocal = StyleSheet.create({\n  logoHorizontal: {\n    height: 150,\n    width: 300,\n    marginBottom: 30,\n    marginRight: 60\n  },\n  LogoVertical: {\n    height: 150,\n    width: 300,\n    marginBottom: 30\n  }\n});\nexport default function Login(props) {\n  var _useState = useState('11719811636'),\n      _useState2 = _slicedToArray(_useState, 2),\n      cpf = _useState2[0],\n      setCpf = _useState2[1];\n\n  var _useState3 = useState('TIt@niwm2014'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      senha = _useState4[0],\n      setSenha = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isVerticalOrientation = _useState6[0],\n      setIsVerticalOrientation = _useState6[1];\n\n  var checkIfDeviceIsInVerticalOrHorizontalOrientation = function checkIfDeviceIsInVerticalOrHorizontalOrientation() {\n    var screenWidth = Dimensions.get('window').width;\n    var screenHeight = Dimensions.get('window').height;\n\n    if (screenWidth > screenHeight) {\n      setIsVerticalOrientation(false);\n    } else {\n      setIsVerticalOrientation(true);\n    }\n  };\n\n  function changeScreenOrientation() {\n    return _regeneratorRuntime.async(function changeScreenOrientation$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.ALL));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {\n    changeScreenOrientation();\n  }, []);\n\n  function saveToken(token) {\n    return _regeneratorRuntime.async(function saveToken$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('@eContractRh:token', token));\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function saveCpf(cpf) {\n    return _regeneratorRuntime.async(function saveCpf$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('@eContractRh:cpf', cpf));\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function logar() {\n    var credentials, response, user, resetAction;\n    return _regeneratorRuntime.async(function logar$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!(cpf.length === 0 || senha.length === 0)) {\n              _context4.next = 4;\n              break;\n            }\n\n            avisar('Preencha CPF e senha para continuar!');\n            _context4.next = 22;\n            break;\n\n          case 4:\n            _context4.prev = 4;\n            credentials = {\n              usuario: cpf,\n              senha: senha\n            };\n            _context4.next = 8;\n            return _regeneratorRuntime.awrap(api.post('/login', credentials));\n\n          case 8:\n            response = _context4.sent;\n            user = response.data;\n            _context4.next = 12;\n            return _regeneratorRuntime.awrap(saveToken(user));\n\n          case 12:\n            _context4.next = 14;\n            return _regeneratorRuntime.awrap(saveCpf(cpf));\n\n          case 14:\n            resetAction = StackActions.reset({\n              index: 0,\n              actions: [NavigationActions.navigate({\n                routeName: 'Home'\n              })]\n            });\n            props.navigation.navigate('Home');\n            console.log(\"ok\");\n            _context4.next = 22;\n            break;\n\n          case 19:\n            _context4.prev = 19;\n            _context4.t0 = _context4[\"catch\"](4);\n            avisar(\" \" + _context4.t0);\n\n          case 22:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[4, 19]], Promise);\n  }\n\n  ;\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    onLayout: function onLayout() {\n      return checkIfDeviceIsInVerticalOrHorizontalOrientation();\n    },\n    style: !isVerticalOrientation ? styles.containerLinha : styles.containerCol,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, React.createElement(StatusBar, {\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }), React.createElement(Image, {\n    onLayout: function onLayout() {\n      return checkIfDeviceIsInVerticalOrHorizontalOrientation();\n    },\n    style: !isVerticalOrientation ? stylesLocal.logoHorizontal : stylesLocal.LogoVertical,\n    source: require(\"../../imagens/logo.jpg\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 14\n    }\n  }), React.createElement(View, {\n    style: styles.containerColumn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.texto2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: 'white',\n      borderBottomWidth: 1,\n      borderColor: '#fff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, \" Login \")), React.createElement(View, {\n    style: styles.texto,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, \"     Colaborador\")), React.createElement(View, {\n    style: {\n      borderBottomWidth: 1,\n      borderColor: '#fff',\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    value: cpf,\n    onChangeText: function onChangeText(cpf) {\n      return setCpf(cpf);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: styles.texto,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }, \"              Senha\")), React.createElement(View, {\n    style: {\n      borderBottomWidth: 1,\n      borderColor: '#fff',\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, React.createElement(TextInput, {\n    style: styles.input,\n    secureTextEntry: true,\n    value: senha,\n    onChangeText: function onChangeText(senha) {\n      return setSenha(senha);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: styles.cardContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }, React.createElement(Button, {\n    style: {\n      right: 0\n    },\n    title: \"Entrar\",\n    color: \"#841584\",\n    onPress: function onPress() {\n      logar();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  })))), React.createElement(Text, {\n    style: {\n      marginBottom: 5,\n      textAlign: 'center',\n      width: '100%',\n      color: 'blue'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 12\n    }\n  }, \"*Copyright Todos os Direitos Reservados E-Contract Titaniwm 2021\"));\n}\nLogin.propTypes = {\n  navigation: PropTypes.shape({\n    navigate: PropTypes.func,\n    dispatch: PropTypes.func\n  }).isRequired\n};\nLogin.navigationOptions = {\n  header: null\n};","map":{"version":3,"sources":["C:/Users/aisla/visual_code_projects/eContractRh/src/paginas/login/index.js"],"names":["React","useState","useEffect","AsyncStorage","PropTypes","api","StackActions","NavigationActions","SwitchActions","ScreenOrientation","styles","avisar","message","ToastAndroid","showWithGravityAndOffset","LONG","BOTTOM","stylesLocal","StyleSheet","create","logoHorizontal","height","width","marginBottom","marginRight","LogoVertical","Login","props","cpf","setCpf","senha","setSenha","isVerticalOrientation","setIsVerticalOrientation","checkIfDeviceIsInVerticalOrHorizontalOrientation","screenWidth","Dimensions","get","screenHeight","changeScreenOrientation","lockAsync","OrientationLock","ALL","saveToken","token","setItem","saveCpf","logar","length","credentials","usuario","post","response","user","data","resetAction","reset","index","actions","navigate","routeName","navigation","console","log","container","containerLinha","containerCol","require","containerColumn","texto2","color","borderBottomWidth","borderColor","texto","input","cardContent","right","textAlign","propTypes","shape","func","dispatch","isRequired","navigationOptions","header"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;;;;;;;AAEA,OAAOC,YAAP,MAAyB,2CAAzB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,GAAP;;AAEA,OAAO,8BAAP;AACA,SAASC,YAAT,EAAuBC,iBAAvB,EAA0CC,aAA1C,QAA+D,kBAA/D;AACA,OAAO,KAAKC,iBAAZ,MAAmC,yBAAnC;AAGA,SACIC,MADJ;;AAIA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,OAAD,EAAa;AACxBC,EAAAA,YAAY,CAACC,wBAAb,CACIF,OADJ,EAEIC,YAAY,CAACE,IAFjB,EAGIF,YAAY,CAACG,MAHjB,EAII,EAJJ,EAKI,EALJ;AAQA,SAAO,IAAP;AACH,CAVD;;AAYA,IAAMC,WAAW,GAAGC,UAAU,CAACC,MAAX,CAAkB;AAIlCC,EAAAA,cAAc,EAAE;AACZC,IAAAA,MAAM,EAAE,GADI;AAEXC,IAAAA,KAAK,EAAE,GAFI;AAGXC,IAAAA,YAAY,EAAE,EAHH;AAIXC,IAAAA,WAAW,EAAE;AAJF,GAJkB;AAUlCC,EAAAA,YAAY,EAAE;AACVJ,IAAAA,MAAM,EAAE,GADE;AAETC,IAAAA,KAAK,EAAE,GAFE;AAGTC,IAAAA,YAAY,EAAE;AAHL;AAVoB,CAAlB,CAApB;AAoBA,eAAe,SAASG,KAAT,CAAeC,KAAf,EAAsB;AAGjC,kBAAsB1B,QAAQ,CAAC,aAAD,CAA9B;AAAA;AAAA,MAAO2B,GAAP;AAAA,MAAYC,MAAZ;;AACA,mBAA0B5B,QAAQ,CAAC,cAAD,CAAlC;AAAA;AAAA,MAAO6B,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAA0D9B,QAAQ,CAAC,IAAD,CAAlE;AAAA;AAAA,MAAO+B,qBAAP;AAAA,MAA8BC,wBAA9B;;AAEA,MAAMC,gDAAgD,GAAG,SAAnDA,gDAAmD,GAAK;AAC1D,QAAMC,WAAW,GAAGC,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBf,KAA7C;AACA,QAAMgB,YAAY,GAAGF,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBhB,MAA9C;;AACE,QAAGc,WAAW,GAAGG,YAAjB,EAA8B;AAC1BL,MAAAA,wBAAwB,CAAC,KAAD,CAAxB;AACH,KAFD,MAEK;AACDA,MAAAA,wBAAwB,CAAC,IAAD,CAAxB;AACH;AACF,GARL;;AAYI,WAAeM,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACU9B,iBAAiB,CAAC+B,SAAlB,CAA4B/B,iBAAiB,CAACgC,eAAlB,CAAkCC,GAA9D,CADV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIExC,EAAAA,SAAS,CAAC,YAAM;AAEdqC,IAAAA,uBAAuB;AAG1B,GALU,EAKR,EALQ,CAAT;;AAON,WAAeI,SAAf,CAAyBC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACUzC,YAAY,CAAC0C,OAAb,CAAqB,oBAArB,EAA2CD,KAA3C,CADV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIA,WAAeE,OAAf,CAAuBlB,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACUzB,YAAY,CAAC0C,OAAb,CAAqB,kBAArB,EAAyCjB,GAAzC,CADV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIA,WAAemB,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACQnB,GAAG,CAACoB,MAAJ,KAAe,CAAf,IAAoBlB,KAAK,CAACkB,MAAN,KAAiB,CAD7C;AAAA;AAAA;AAAA;;AAEQrC,YAAAA,MAAM,CAAC,sCAAD,CAAN;AAFR;AAAA;;AAAA;AAAA;AAMkBsC,YAAAA,WANlB,GAMgC;AAChBC,cAAAA,OAAO,EAAEtB,GADO;AAEhBE,cAAAA,KAAK,EAAEA;AAFS,aANhC;AAAA;AAAA,6CAWmCzB,GAAG,CAAC8C,IAAJ,CAAS,QAAT,EAAmBF,WAAnB,CAXnC;;AAAA;AAWkBG,YAAAA,QAXlB;AAakBC,YAAAA,IAblB,GAayBD,QAAQ,CAACE,IAblC;AAAA;AAAA,6CAekBX,SAAS,CAACU,IAAD,CAf3B;;AAAA;AAAA;AAAA,6CAgBkBP,OAAO,CAAClB,GAAD,CAhBzB;;AAAA;AAkBkB2B,YAAAA,WAlBlB,GAkBgCjD,YAAY,CAACkD,KAAb,CAAmB;AACnCC,cAAAA,KAAK,EAAE,CAD4B;AAEnCC,cAAAA,OAAO,EAAE,CAACnD,iBAAiB,CAACoD,QAAlB,CAA2B;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAA3B,CAAD;AAF0B,aAAnB,CAlBhC;AAwBYjC,YAAAA,KAAK,CAACkC,UAAN,CAAiBF,QAAjB,CAA0B,MAA1B;AACAG,YAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AAzBZ;AAAA;;AAAA;AAAA;AAAA;AA6BYpD,YAAAA,MAAM,CAAC,kBAAD,CAAN;;AA7BZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAiCC;AAID,SAEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAED,MAAM,CAACsD,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEA,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAE;AAAA,aAAI9B,gDAAgD,EAApD;AAAA,KAAhB;AAAwE,IAAA,KAAK,EAAE,CAACF,qBAAD,GAA0BtB,MAAM,CAACuD,cAAjC,GAAkDvD,MAAM,CAACwD,YAAxI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,MAAM,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAGK,oBAAC,KAAD;AACA,IAAA,QAAQ,EAAE;AAAA,aAAIhC,gDAAgD,EAApD;AAAA,KADV;AACkE,IAAA,KAAK,EAAE,CAACF,qBAAD,GAA0Bf,WAAW,CAACG,cAAtC,GAAsDH,WAAW,CAACQ,YAD3I;AAGC,IAAA,MAAM,EAAE0C,OAAO,0BAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHL,EAUI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEzD,MAAM,CAAC0D,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE1D,MAAM,CAAC2D,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE,OAAT;AAAkBC,MAAAA,iBAAiB,EAAE,CAArC;AAAwCC,MAAAA,WAAW,EAAE;AAArD,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CAFJ,EAMI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE9D,MAAM,CAAC+D,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEH,MAAAA,KAAK,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,CANJ,EAUI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEC,MAAAA,iBAAiB,EAAE,CAArB;AAAwBC,MAAAA,WAAW,EAAE,MAArC;AAA6ClD,MAAAA,KAAK,EAAE;AAApD,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAEZ,MAAM,CAACgE,KAAzB;AACI,IAAA,KAAK,EAAE9C,GADX;AAEI,IAAA,YAAY,EAAE,sBAAAA,GAAG;AAAA,aAAIC,MAAM,CAACD,GAAD,CAAV;AAAA,KAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAVJ,EAiBI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAElB,MAAM,CAAC+D,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEH,MAAAA,KAAK,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADJ,CAjBJ,EAqBI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEC,MAAAA,iBAAiB,EAAE,CAArB;AAAwBC,MAAAA,WAAW,EAAE,MAArC;AAA6ClD,MAAAA,KAAK,EAAE;AAApD,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAEZ,MAAM,CAACgE,KAAzB;AACI,IAAA,eAAe,EAAE,IADrB;AAEI,IAAA,KAAK,EAAE5C,KAFX;AAGI,IAAA,YAAY,EAAE,sBAAAA,KAAK;AAAA,aAAIC,QAAQ,CAACD,KAAD,CAAZ;AAAA,KAHvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CArBJ,EA8BI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEpB,MAAM,CAACiE,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT,KAAf;AACI,IAAA,KAAK,EAAC,QADV;AAEI,IAAA,KAAK,EAAC,SAFV;AAGI,IAAA,OAAO,EAAE,mBAAM;AACX7B,MAAAA,KAAK;AACR,KALL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CA9BJ,CAVJ,CAFA,EAwDG,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAG;AAAExB,MAAAA,YAAY,EAAE,CAAhB;AAAmBsD,MAAAA,SAAS,EAAE,QAA9B;AAAwCvD,MAAAA,KAAK,EAAE,MAA/C;AAAuDgD,MAAAA,KAAK,EAAE;AAA9D,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wEAxDH,CAFJ;AAmEH;AAGD5C,KAAK,CAACoD,SAAN,GAAkB;AACdjB,EAAAA,UAAU,EAAEzD,SAAS,CAAC2E,KAAV,CAAgB;AACxBpB,IAAAA,QAAQ,EAAEvD,SAAS,CAAC4E,IADI;AAExBC,IAAAA,QAAQ,EAAE7E,SAAS,CAAC4E;AAFI,GAAhB,EAGTE;AAJW,CAAlB;AAOAxD,KAAK,CAACyD,iBAAN,GAA0B;AACtBC,EAAAA,MAAM,EAAE;AADc,CAA1B","sourcesContent":["import React, { useState ,useEffect } from 'react';\r\nimport { Text, Image, View, ImageBackground, Button, TextInput, ToastAndroid, Dimensions ,StyleSheet} from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport PropTypes from 'prop-types';\r\nimport api from '../../services/api';\r\nimport { StatusBar } from 'react-native';\r\nimport 'react-native-gesture-handler';\r\nimport { StackActions, NavigationActions, SwitchActions } from 'react-navigation'\r\nimport * as ScreenOrientation from 'expo-screen-orientation';\r\n\r\n\r\nimport {\r\n    styles\r\n} from '../../styles/styles';\r\n\r\nconst avisar = (message) => {\r\n    ToastAndroid.showWithGravityAndOffset(\r\n        message,\r\n        ToastAndroid.LONG,\r\n        ToastAndroid.BOTTOM,\r\n        25,\r\n        50\r\n    );\r\n\r\n    return null;\r\n};\r\n\r\nconst stylesLocal = StyleSheet.create({\r\n\r\n   \r\n\r\n    logoHorizontal: {\r\n        height: 150,\r\n         width: 300, \r\n         marginBottom: 30,\r\n         marginRight: 60,\r\n    },\r\n    LogoVertical: {\r\n        height: 150,\r\n         width: 300, \r\n         marginBottom: 30,\r\n    },\r\n\r\n});\r\n\r\n\r\n\r\nexport default function Login(props) {\r\n   \r\n\r\n    const [cpf, setCpf] = useState('11719811636');\r\n    const [senha, setSenha] = useState('TIt@niwm2014');\r\n    const [isVerticalOrientation, setIsVerticalOrientation] = useState(true)\r\n\r\n    const checkIfDeviceIsInVerticalOrHorizontalOrientation = () =>{\r\n        const screenWidth = Dimensions.get('window').width\r\n        const screenHeight = Dimensions.get('window').height\r\n          if(screenWidth > screenHeight){\r\n              setIsVerticalOrientation(false)\r\n          }else{\r\n              setIsVerticalOrientation(true)\r\n          }\r\n        }\r\n\r\n        \r\n\r\n        async function changeScreenOrientation() {\r\n            await ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.ALL);\r\n          }\r\n        \r\n          useEffect(() => {\r\n\r\n            changeScreenOrientation();\r\n\r\n\r\n        }, []);\r\n\r\n    async function saveToken(token) {\r\n        await AsyncStorage.setItem('@eContractRh:token', token)\r\n    }\r\n\r\n    async function saveCpf(cpf) {\r\n        await AsyncStorage.setItem('@eContractRh:cpf', cpf)\r\n    }\r\n\r\n    async function logar() {\r\n        if (cpf.length === 0 || senha.length === 0) {\r\n            avisar('Preencha CPF e senha para continuar!');\r\n        } else {\r\n            try {\r\n\r\n                const credentials = {\r\n                    usuario: cpf,\r\n                    senha: senha\r\n                }\r\n\r\n                const response = await api.post('/login', credentials)\r\n\r\n                const user = response.data\r\n\r\n                await saveToken(user)\r\n                await saveCpf(cpf)\r\n\r\n                const resetAction = StackActions.reset({\r\n                    index: 0,\r\n                    actions: [NavigationActions.navigate({ routeName: 'Home' })],\r\n                })\r\n\r\n\r\n                props.navigation.navigate('Home');\r\n                console.log(\"ok\");\r\n\r\n            } catch (_err) {\r\n                // avisar('Houve um problema com o login, verifique suas credenciais! ' + cpf + \" \" + senha );\r\n                avisar(\" \" + _err);\r\n\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n    return (\r\n\r\n        <View style={styles.container}>\r\n\r\n        <View onLayout={()=>checkIfDeviceIsInVerticalOrHorizontalOrientation()} style={!isVerticalOrientation ?  styles.containerLinha : styles.containerCol}>\r\n            <StatusBar hidden />\r\n\r\n             <Image \r\n             onLayout={()=>checkIfDeviceIsInVerticalOrHorizontalOrientation()} style={!isVerticalOrientation ?  stylesLocal.logoHorizontal: stylesLocal.LogoVertical}\r\n            \r\n              source={require('../../imagens/logo.jpg')}\r\n              />\r\n\r\n\r\n            <View style={styles.containerColumn}>\r\n\r\n                <View style={styles.texto2}>\r\n                    <Text style={{ color: 'white', borderBottomWidth: 1, borderColor: '#fff' }} > Login </Text>\r\n                </View>\r\n\r\n                <View style={styles.texto}>\r\n                    <Text style={{ color: 'white' }} >     Colaborador</Text>\r\n                </View>\r\n\r\n                <View style={{ borderBottomWidth: 1, borderColor: '#fff', width: '100%' }}>\r\n                    <TextInput style={styles.input}\r\n                        value={cpf}\r\n                        onChangeText={cpf => setCpf(cpf)}\r\n                    />\r\n                </View>\r\n\r\n                <View style={styles.texto}>\r\n                    <Text style={{ color: 'white' }} >              Senha</Text>\r\n                </View>\r\n\r\n                <View style={{ borderBottomWidth: 1, borderColor: '#fff', width: '100%' }}>\r\n                    <TextInput style={styles.input}\r\n                        secureTextEntry={true}\r\n                        value={senha}\r\n                        onChangeText={senha => setSenha(senha)}\r\n                    />\r\n\r\n                </View>\r\n\r\n                <View style={styles.cardContent}>\r\n                    <Button style={{ right: 0 }}\r\n                        title=\"Entrar\"\r\n                        color=\"#841584\"\r\n                        onPress={() => {\r\n                            logar();\r\n                        }}\r\n                    />\r\n                </View>\r\n\r\n            </View>\r\n\r\n        </View>\r\n       \r\n           <Text style={ { marginBottom: 5 ,textAlign: 'center', width: '100%', color: 'blue' }} >\r\n               *Copyright Todos os Direitos Reservados E-Contract Titaniwm 2021</Text>\r\n                       \r\n\r\n        </View> \r\n    );\r\n\r\n\r\n\r\n}\r\n\r\n\r\nLogin.propTypes = {\r\n    navigation: PropTypes.shape({\r\n        navigate: PropTypes.func,\r\n        dispatch: PropTypes.func,\r\n    }).isRequired,\r\n};\r\n\r\nLogin.navigationOptions = {\r\n    header: null,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}