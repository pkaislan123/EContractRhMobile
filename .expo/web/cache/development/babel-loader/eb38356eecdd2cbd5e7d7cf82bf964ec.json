{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\aisla\\\\visual_code_projects\\\\eContractRh\\\\src\\\\paginas\\\\demonstrativo\\\\index.js\",\n    _this = this;\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { DatePickerIOSComponent } from \"react-native-web/dist/index\";\nimport React, { useState, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport PropTypes from 'prop-types';\nimport api from \"../../services/api\";\nimport 'react-native-gesture-handler';\nimport Orientation from 'react-native-orientation-locker';\nimport moment from 'moment';\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport { styles } from \"../../styles/styles\";\nimport * as ScreenOrientation from 'expo-screen-orientation';\nimport { useIsFocused } from '@react-navigation/native';\n\nvar avisar = function avisar(message) {\n  ToastAndroid.showWithGravityAndOffset(message, ToastAndroid.LONG, ToastAndroid.BOTTOM, 25, 50);\n  return null;\n};\n\nexport default function Demonstrativo(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(new Date()),\n      _useState2 = _slicedToArray(_useState, 2),\n      date = _useState2[0],\n      setDate = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      show = _useState4[0],\n      setShow = _useState4[1];\n\n  var _useState5 = useState('date'),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mode = _useState6[0],\n      setMode = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      contador = _useState8[0],\n      setContador = _useState8[1];\n\n  var onChange = function onChange(event, selectedDate) {\n    var currentDate = selectedDate || date;\n    setDate(currentDate);\n    setShow(Platform.OS === 'ios');\n    dadosIniciais();\n  };\n\n  var showMode = function showMode(currentMode) {\n    setShow(true);\n    setMode(currentMode);\n  };\n\n  var showDatepicker = function showDatepicker() {\n    showMode('date');\n  };\n\n  var showTimepicker = function showTimepicker() {\n    showMode('time');\n  };\n\n  var _useState9 = useState([{\n    id: '1',\n    data: '14/08/2021',\n    dia_da_semana: 'Quarta-Feira'\n  }, {\n    id: '2',\n    data: '14/08/2021',\n    dia_da_semana: 'Quinta-Feira'\n  }]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      demonstrativo = _useState10[0],\n      setDemonstrativo = _useState10[1];\n\n  function dadosIniciais() {\n    var headers, id_func;\n    return _regeneratorRuntime.async(function dadosIniciais$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('@eContractRh:token'));\n\n          case 3:\n            _context.t0 = _context.sent;\n            _context.t1 = 'Bearer ' + _context.t0;\n            headers = {\n              'Authorization': _context.t1\n            };\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('@eContractRh:id_func'));\n\n          case 8:\n            id_func = _context.sent;\n            console.log(\"id: \" + id_func);\n            _context.next = 12;\n            return _regeneratorRuntime.awrap(api.get(\"/v1/protected/demonstrativo/\" + id_func + \"/\" + moment(date).format(\"MM/yyyy\"), {\n              headers: headers\n            }).then(function (response) {\n              setDemonstrativo(response.data);\n              console.log(\" dados: \" + response.data);\n            }));\n\n          case 12:\n            _context.next = 18;\n            break;\n\n          case 14:\n            _context.prev = 14;\n            _context.t2 = _context[\"catch\"](0);\n            avisar(\" \" + _context.t2);\n            console.log(\" \" + _context.t2);\n\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 14]], Promise);\n  }\n\n  function changeScreenOrientation() {\n    return _regeneratorRuntime.async(function changeScreenOrientation$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.LANDSCAPE));\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {\n    var unsubscribe = navigation.addListener('focus', function () {\n      console.log('Screen is focused');\n      changeScreenOrientation();\n      dadosIniciais();\n    });\n    return unsubscribe;\n  }, []);\n  return React.createElement(View, {\n    style: {\n      width: '100%',\n      height: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 3\n    }\n  }, React.createElement(View, {\n    style: {\n      fontSize: 18,\n      backgroundColor: 'rgba(255,255,255,1)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 4\n    }\n  }, show && React.createElement(DateTimePicker, {\n    style: {\n      widht: 200,\n      fontSize: 18\n    },\n    value: date,\n    mode: mode,\n    display: \"default\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 6\n    }\n  })), React.createElement(View, {\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    style: {\n      width: '100%',\n      backgroundColor: 'blue',\n      padding: 10,\n      fontSize: 20,\n      color: 'white',\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }\n  }, \" Demonstrativo de Ponto \"), React.createElement(Button, {\n    buttonStyle: (styles.button, {\n      fontWeight: 'bold'\n    }),\n    onPress: showDatepicker,\n    title: moment(date).format(\"MM/yyyy\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 5\n    }\n  }), React.createElement(ListaVertical, {\n    dados: demonstrativo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 5\n    }\n  })));\n}\n;\n\nvar PontoDiario = function PontoDiario(_ref2) {\n  var item = _ref2.item;\n  return React.createElement(View, {\n    style: (styles.containerCol, {\n      marginBottom: 3,\n      backgroundColor: 'white'\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 2\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 3\n    }\n  }, React.createElement(Text, {\n    style: {\n      margin: 10,\n      color: 'black',\n      fontSize: 16,\n      textTransform: 'capitalize'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 4\n    }\n  }, item.dia_da_semana), React.createElement(Text, {\n    style: {\n      margin: 10,\n      color: 'black',\n      fontSize: 16,\n      textTransform: 'capitalize'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 4\n    }\n  }, item.data)), React.createElement(View, {\n    style: {\n      flexDirection: 'row'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 3\n    }\n  }, React.createElement(View, {\n    style: (styles.coluna, {\n      marginLeft: 40,\n      marginBottom: 20,\n      width: '50%'\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 4\n    }\n  }, React.createElement(Linha, {\n    campo: \"Entrada 1: \",\n    valor: item.entrada1,\n    cor: \"black\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 5\n    }\n  }), React.createElement(Linha, {\n    campo: \"    Sa\\xEDda 1: \",\n    valor: item.saida1,\n    cor: \"black\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 5\n    }\n  }), React.createElement(Linha, {\n    campo: \"Entrada 2: \",\n    valor: item.entrada2,\n    cor: \"black\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }\n  }), React.createElement(Linha, {\n    campo: \"    Sa\\xEDda 2: \",\n    valor: item.saida2,\n    cor: \"black\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 5\n    }\n  }), React.createElement(Linha, {\n    campo: \"Entrada 3: \",\n    valor: item.entrada3,\n    cor: \"black\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 5\n    }\n  }), React.createElement(Linha, {\n    campo: \"    Sa\\xEDda 3: \",\n    valor: item.saida3,\n    cor: \"black\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 5\n    }\n  })), React.createElement(View, {\n    style: (styles.coluna, {\n      marginRight: 40,\n      width: '50%'\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 4\n    }\n  }, React.createElement(Linha, {\n    campo: \"          Horas Di\\xE1rias: \",\n    valor: item.hora_diaria,\n    cor: \"black\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 5\n    }\n  }), React.createElement(Linha, {\n    campo: \"Horas Trabalhadas: \",\n    valor: item.hora_trabalhada,\n    cor: \"blue\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 5\n    }\n  }), React.createElement(Linha, {\n    campo: \"           Horas Extras: \",\n    valor: item.hora_extra,\n    cor: \"green\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 5\n    }\n  }), React.createElement(Linha, {\n    campo: \"     Horas de Atrazo: \",\n    valor: item.hora_atrazo,\n    cor: \"red\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 5\n    }\n  }), React.createElement(Linha, {\n    campo: \"      Horas Noturnas: \",\n    valor: item.hora_noturna,\n    cor: \"brown\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 5\n    }\n  }))));\n};\n\nvar Linha = function Linha(props) {\n  return React.createElement(View, {\n    style: styles.linha,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 3\n    }\n  }, React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 4\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: 'black',\n      fontSize: 16,\n      textAlign: 'right'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 5\n    }\n  }, props.campo)), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 4\n    }\n  }, props.valor == \"DS\" || props.valor == \"INSENÇÃO DE PONTO\" || props.valor == \"FALTA\" || props.valor == \"FOLGA\" ? React.createElement(Text, {\n    style: {\n      borderBottomWidth: 1,\n      fontSize: 16,\n      borderColor: '#fff',\n      color: 'black',\n      textTransform: 'capitalize'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }\n  }, props.valor) : React.createElement(Text, {\n    style: {\n      borderBottomWidth: 1,\n      fontWeight: 'bold',\n      fontSize: 16,\n      borderColor: '#fff',\n      color: props.cor\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 9\n    }\n  }, props.valor, \"h\")));\n};\n\nvar CardVertical = function CardVertical(_ref3) {\n  var item = _ref3.item;\n  return React.createElement(PontoDiario, {\n    item: item,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 3\n    }\n  });\n};\n\nvar ListaVertical = function ListaVertical(props) {\n  return React.createElement(FlatList, {\n    numColumns: 1,\n    data: props.dados,\n    renderItem: CardVertical,\n    keyExtractor: function keyExtractor(item) {\n      return item.id.toString();\n    },\n    contentContainerStyle: {\n      paddingBottom: 100\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 3\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/aisla/visual_code_projects/eContractRh/src/paginas/demonstrativo/index.js"],"names":["DatePickerIOSComponent","React","useState","useEffect","AsyncStorage","PropTypes","api","Orientation","moment","DateTimePicker","styles","ScreenOrientation","useIsFocused","avisar","message","ToastAndroid","showWithGravityAndOffset","LONG","BOTTOM","Demonstrativo","navigation","Date","date","setDate","show","setShow","mode","setMode","contador","setContador","onChange","event","selectedDate","currentDate","Platform","OS","dadosIniciais","showMode","currentMode","showDatepicker","showTimepicker","id","data","dia_da_semana","demonstrativo","setDemonstrativo","getItem","headers","id_func","console","log","get","format","then","response","changeScreenOrientation","lockAsync","OrientationLock","LANDSCAPE","unsubscribe","addListener","width","height","fontSize","backgroundColor","widht","padding","color","textAlign","button","fontWeight","PontoDiario","item","containerCol","marginBottom","flexDirection","margin","textTransform","coluna","marginLeft","entrada1","saida1","entrada2","saida2","entrada3","saida3","marginRight","hora_diaria","hora_trabalhada","hora_extra","hora_atrazo","hora_noturna","Linha","props","linha","campo","valor","borderBottomWidth","borderColor","cor","CardVertical","ListaVertical","dados","toString","paddingBottom"],"mappings":";;;;;;;;;;;;;;;;;;;SAA0JA,sB;AAC1J,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,GAAP;AACA,OAAO,8BAAP;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,cAAP,MAA2B,wCAA3B;AACA,SACCC,MADD;AAGA,OAAO,KAAKC,iBAAZ,MAAmC,yBAAnC;AACA,SAASC,YAAT,QAA6B,0BAA7B;;AAGA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,OAAD,EAAa;AAC3BC,EAAAA,YAAY,CAACC,wBAAb,CACCF,OADD,EAECC,YAAY,CAACE,IAFd,EAGCF,YAAY,CAACG,MAHd,EAIC,EAJD,EAKC,EALD;AAQA,SAAO,IAAP;AACA,CAVD;;AAcA,eAAe,SAASC,aAAT,OAAuC;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AACrD,kBAAwBlB,QAAQ,CAAC,IAAImB,IAAJ,EAAD,CAAhC;AAAA;AAAA,MAAOC,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAwBrB,QAAQ,CAAC,KAAD,CAAhC;AAAA;AAAA,MAAOsB,IAAP;AAAA,MAAaC,OAAb;;AACA,mBAAwBvB,QAAQ,CAAC,MAAD,CAAhC;AAAA;AAAA,MAAOwB,IAAP;AAAA,MAAaC,OAAb;;AAEA,mBAAgCzB,QAAQ,CAAC,CAAD,CAAxC;AAAA;AAAA,MAAO0B,QAAP;AAAA,MAAiBC,WAAjB;;AAEA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,KAAD,EAAQC,YAAR,EAAyB;AACzC,QAAMC,WAAW,GAAGD,YAAY,IAAIV,IAApC;AACAC,IAAAA,OAAO,CAACU,WAAD,CAAP;AACAR,IAAAA,OAAO,CAACS,QAAQ,CAACC,EAAT,KAAgB,KAAjB,CAAP;AACAC,IAAAA,aAAa;AACb,GALD;;AAOA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,WAAD,EAAiB;AACjCb,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAE,IAAAA,OAAO,CAACW,WAAD,CAAP;AACA,GAHD;;AAKA,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC5BF,IAAAA,QAAQ,CAAC,MAAD,CAAR;AACA,GAFD;;AAIA,MAAMG,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC5BH,IAAAA,QAAQ,CAAC,MAAD,CAAR;AACA,GAFD;;AAKA,mBAA0CnC,QAAQ,CAAC,CAClD;AACCuC,IAAAA,EAAE,EAAE,GADL;AAECC,IAAAA,IAAI,EAAE,YAFP;AAGCC,IAAAA,aAAa,EAAE;AAHhB,GADkD,EAOlD;AACCF,IAAAA,EAAE,EAAE,GADL;AAECC,IAAAA,IAAI,EAAE,YAFP;AAGCC,IAAAA,aAAa,EAAE;AAHhB,GAPkD,CAAD,CAAlD;AAAA;AAAA,MAAOC,aAAP;AAAA,MAAsBC,gBAAtB;;AAiBA,WAAeT,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAMsChC,YAAY,CAAC0C,OAAb,CAAqB,oBAArB,CANtC;;AAAA;AAAA;AAAA,0BAMoB,SANpB;AAKQC,YAAAA,OALR;AAMG,6BANH;AAAA;AAAA;AAAA,6CAUwB3C,YAAY,CAAC0C,OAAb,CAAqB,sBAArB,CAVxB;;AAAA;AAUQE,YAAAA,OAVR;AAWEC,YAAAA,OAAO,CAACC,GAAR,CAAY,SAASF,OAArB;AAXF;AAAA,6CAaQ1C,GAAG,CAAC6C,GAAJ,CAAQ,iCAAiCH,OAAjC,GAA2C,GAA3C,GAAiDxC,MAAM,CAACc,IAAD,CAAN,CAAa8B,MAAb,CAAoB,SAApB,CAAzD,EAAyF;AAC9FL,cAAAA,OAAO,EAAEA;AADqF,aAAzF,EAEHM,IAFG,CAEE,UAAUC,QAAV,EAAoB;AAC3BT,cAAAA,gBAAgB,CAACS,QAAQ,CAACZ,IAAV,CAAhB;AACAO,cAAAA,OAAO,CAACC,GAAR,CAAY,aAAaI,QAAQ,CAACZ,IAAlC;AAEA,aANK,CAbR;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAyBE7B,YAAAA,MAAM,CAAC,iBAAD,CAAN;AACAoC,YAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;;AA1BF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAgCA,WAAeK,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACO5C,iBAAiB,CAAC6C,SAAlB,CAA4B7C,iBAAiB,CAAC8C,eAAlB,CAAkCC,SAA9D,CADP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMAvD,EAAAA,SAAS,CAAC,YAAM;AAGf,QAAMwD,WAAW,GAAGvC,UAAU,CAACwC,WAAX,CAAuB,OAAvB,EAAgC,YAAM;AACzDX,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AAEAK,MAAAA,uBAAuB;AACvBnB,MAAAA,aAAa;AAEb,KANmB,CAApB;AAQA,WAAOuB,WAAP;AAGA,GAdQ,EAcN,EAdM,CAAT;AAkBA,SAEC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEE,MAAAA,KAAK,EAAE,MAAT;AAAiBC,MAAAA,MAAM,EAAE;AAAzB,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE,EAAZ;AAAgBC,MAAAA,eAAe,EAAE;AAAjC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACExC,IAAI,IACJ,oBAAC,cAAD;AACC,IAAA,KAAK,EAAE;AAAEyC,MAAAA,KAAK,EAAE,GAAT;AAAcF,MAAAA,QAAQ,EAAE;AAAxB,KADR;AAEC,IAAA,KAAK,EAAEzC,IAFR;AAGC,IAAA,IAAI,EAAEI,IAHP;AAIC,IAAA,OAAO,EAAC,SAJT;AAKC,IAAA,QAAQ,EAAEI,QALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADD,EAaC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAE+B,MAAAA,KAAK,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEA,MAAAA,KAAK,EAAE,MAAT;AAAiBG,MAAAA,eAAe,EAAE,MAAlC;AAA0CE,MAAAA,OAAO,EAAE,EAAnD;AAAuDH,MAAAA,QAAQ,EAAE,EAAjE;AAAqEI,MAAAA,KAAK,EAAE,OAA5E;AAAqFC,MAAAA,SAAS,EAAE;AAAhG,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADD,EAEC,oBAAC,MAAD;AACC,IAAA,WAAW,GAAE1D,MAAM,CAAC2D,MAAP,EAAe;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAAjB,CADZ;AAEC,IAAA,OAAO,EAAE/B,cAFV;AAGC,IAAA,KAAK,EAAE/B,MAAM,CAACc,IAAD,CAAN,CAAa8B,MAAb,CAAoB,SAApB,CAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,EAQC,oBAAC,aAAD;AAAe,IAAA,KAAK,EAAER,aAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARD,CAbD,CAFD;AA8BA;AAAA;;AAGD,IAAM2B,WAAW,GAAG,SAAdA,WAAc;AAAA,MAAGC,IAAH,SAAGA,IAAH;AAAA,SACnB,oBAAC,IAAD;AAAM,IAAA,KAAK,GAAE9D,MAAM,CAAC+D,YAAP,EAAqB;AAAEC,MAAAA,YAAY,EAAE,CAAhB;AAAmBV,MAAAA,eAAe,EAAE;AAApC,KAAvB,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEW,MAAAA,aAAa,EAAE;AAAjB,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEC,MAAAA,MAAM,EAAE,EAAV;AAAcT,MAAAA,KAAK,EAAE,OAArB;AAA8BJ,MAAAA,QAAQ,EAAE,EAAxC;AAA4Cc,MAAAA,aAAa,EAAE;AAA3D,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEL,IAAI,CAAC7B,aADP,CAFD,EAMC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEiC,MAAAA,MAAM,EAAE,EAAV;AAAcT,MAAAA,KAAK,EAAE,OAArB;AAA8BJ,MAAAA,QAAQ,EAAE,EAAxC;AAA4Cc,MAAAA,aAAa,EAAE;AAA3D,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEL,IAAI,CAAC9B,IADP,CAND,CADD,EAaC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEiC,MAAAA,aAAa,EAAE;AAAjB,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,IAAD;AAAM,IAAA,KAAK,GAAEjE,MAAM,CAACoE,MAAP,EAAe;AAAEC,MAAAA,UAAU,EAAE,EAAd;AAAkBL,MAAAA,YAAY,EAAE,EAAhC;AAAoCb,MAAAA,KAAK,EAAE;AAA3C,KAAjB,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEC,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,aAAb;AAA2B,IAAA,KAAK,EAAEW,IAAI,CAACQ,QAAvC;AAAiD,IAAA,GAAG,EAAC,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,EAGC,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,kBAAb;AAA6B,IAAA,KAAK,EAAER,IAAI,CAACS,MAAzC;AAAiD,IAAA,GAAG,EAAC,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,EAIC,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,aAAb;AAA2B,IAAA,KAAK,EAAET,IAAI,CAACU,QAAvC;AAAiD,IAAA,GAAG,EAAC,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJD,EAKC,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,kBAAb;AAA6B,IAAA,KAAK,EAAEV,IAAI,CAACW,MAAzC;AAAiD,IAAA,GAAG,EAAC,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALD,EAMC,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,aAAb;AAA2B,IAAA,KAAK,EAAEX,IAAI,CAACY,QAAvC;AAAiD,IAAA,GAAG,EAAC,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAND,EAOC,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,kBAAb;AAA6B,IAAA,KAAK,EAAEZ,IAAI,CAACa,MAAzC;AAAiD,IAAA,GAAG,EAAC,OAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPD,CADD,EAWC,oBAAC,IAAD;AAAM,IAAA,KAAK,GAAE3E,MAAM,CAACoE,MAAP,EAAe;AAAEQ,MAAAA,WAAW,EAAE,EAAf;AAAmBzB,MAAAA,KAAK,EAAE;AAA1B,KAAjB,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEC,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,8BAAb;AAAyC,IAAA,KAAK,EAAEW,IAAI,CAACe,WAArD;AAAkE,IAAA,GAAG,EAAC,OAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,EAGC,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,qBAAb;AAAmC,IAAA,KAAK,EAAEf,IAAI,CAACgB,eAA/C;AAAgE,IAAA,GAAG,EAAC,MAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,EAIC,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,2BAAb;AAAyC,IAAA,KAAK,EAAEhB,IAAI,CAACiB,UAArD;AAAiE,IAAA,GAAG,EAAC,OAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJD,EAKC,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,wBAAb;AAAsC,IAAA,KAAK,EAAEjB,IAAI,CAACkB,WAAlD;AAA+D,IAAA,GAAG,EAAC,KAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALD,EAMC,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,wBAAb;AAAsC,IAAA,KAAK,EAAElB,IAAI,CAACmB,YAAlD;AAAgE,IAAA,GAAG,EAAC,OAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAND,CAXD,CAbD,CADmB;AAAA,CAApB;;AAsCA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD,EAAW;AAExB,SACC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEnF,MAAM,CAACoF,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAE3B,MAAAA,KAAK,EAAE,OAAT;AAAkBJ,MAAAA,QAAQ,EAAE,EAA5B;AAAgCK,MAAAA,SAAS,EAAE;AAA3C,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAqEyB,KAAK,CAACE,KAA3E,CADD,CAFD,EAKC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGEF,KAAK,CAACG,KAAN,IAAe,IAAf,IAAuBH,KAAK,CAACG,KAAN,IAAe,mBAAtC,IAA6DH,KAAK,CAACG,KAAN,IAAe,OAA5E,IAAuFH,KAAK,CAACG,KAAN,IAAe,OAAtG,GACC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEC,MAAAA,iBAAiB,EAAE,CAArB;AAAwBlC,MAAAA,QAAQ,EAAE,EAAlC;AAAsCmC,MAAAA,WAAW,EAAE,MAAnD;AAA2D/B,MAAAA,KAAK,EAAE,OAAlE;AAA2EU,MAAAA,aAAa,EAAE;AAA1F,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyHgB,KAAK,CAACG,KAA/H,CADD,GAGG,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEC,MAAAA,iBAAiB,EAAE,CAArB;AAAwB3B,MAAAA,UAAU,EAAE,MAApC;AAA4CP,MAAAA,QAAQ,EAAE,EAAtD;AAA0DmC,MAAAA,WAAW,EAAE,MAAvE;AAA+E/B,MAAAA,KAAK,EAAE0B,KAAK,CAACM;AAA5F,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAkHN,KAAK,CAACG,KAAxH,MANL,CALD,CADD;AAmBA,CArBD;;AAuBA,IAAMI,YAAY,GAAG,SAAfA,YAAe,QAAc;AAAA,MAAX5B,IAAW,SAAXA,IAAW;AAClC,SAEC,oBAAC,WAAD;AACC,IAAA,IAAI,EAAEA,IADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD;AAQA,CATD;;AAWA,IAAM6B,aAAa,GAAG,SAAhBA,aAAgB,CAACR,KAAD,EAAW;AAChC,SAGC,oBAAC,QAAD;AACC,IAAA,UAAU,EAAE,CADb;AAEC,IAAA,IAAI,EAAEA,KAAK,CAACS,KAFb;AAGC,IAAA,UAAU,EAAEF,YAHb;AAIC,IAAA,YAAY,EAAE,sBAAC5B,IAAD;AAAA,aAAUA,IAAI,CAAC/B,EAAL,CAAQ8D,QAAR,EAAV;AAAA,KAJf;AAKC,IAAA,qBAAqB,EAAE;AAAEC,MAAAA,aAAa,EAAE;AAAjB,KALxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD;AAaA,CAdD","sourcesContent":["import { FlatList,Button, ScrollView, Image, TextInput, View, SafeAreaView, StatusBar, StyleSheet, ImageBackground, Text, ToastAndroid, TouchableOpacity, DatePickerIOSComponent } from \"react-native\";\r\nimport React, { useState, useEffect } from 'react';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport PropTypes from 'prop-types';\r\nimport api from '../../services/api';\r\nimport 'react-native-gesture-handler';\r\nimport Orientation from 'react-native-orientation-locker';\r\nimport moment from 'moment';\r\nimport DateTimePicker from '@react-native-community/datetimepicker';\r\nimport {\r\n\tstyles\r\n} from '../../styles/styles';\r\nimport * as ScreenOrientation from 'expo-screen-orientation';\r\nimport { useIsFocused } from '@react-navigation/native';\r\n\r\n\r\nconst avisar = (message) => {\r\n\tToastAndroid.showWithGravityAndOffset(\r\n\t\tmessage,\r\n\t\tToastAndroid.LONG,\r\n\t\tToastAndroid.BOTTOM,\r\n\t\t25,\r\n\t\t50\r\n\t);\r\n\r\n\treturn null;\r\n};\r\n\r\n\r\n\r\nexport default function Demonstrativo({ navigation }) {\r\n\tconst [date, setDate] = useState(new Date());\r\n\tconst [show, setShow] = useState(false);\r\n\tconst [mode, setMode] = useState('date');\r\n\r\n\tconst [contador, setContador] = useState(0);\r\n\r\n\tconst onChange = (event, selectedDate) => {\r\n\t\tconst currentDate = selectedDate || date;\r\n\t\tsetDate(currentDate);\r\n\t\tsetShow(Platform.OS === 'ios');\r\n\t\tdadosIniciais();\r\n\t};\r\n\r\n\tconst showMode = (currentMode) => {\r\n\t\tsetShow(true);\r\n\t\tsetMode(currentMode);\r\n\t};\r\n\r\n\tconst showDatepicker = () => {\r\n\t\tshowMode('date');\r\n\t};\r\n\r\n\tconst showTimepicker = () => {\r\n\t\tshowMode('time');\r\n\t};\r\n\r\n\r\n\tconst [demonstrativo, setDemonstrativo] = useState([\r\n\t\t{\r\n\t\t\tid: '1',\r\n\t\t\tdata: '14/08/2021',\r\n\t\t\tdia_da_semana: 'Quarta-Feira'\r\n\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: '2',\r\n\t\t\tdata: '14/08/2021',\r\n\t\t\tdia_da_semana: 'Quinta-Feira'\r\n\r\n\t\t}\r\n\r\n\r\n\t]);\r\n\r\n\tasync function dadosIniciais() {\r\n\t\ttry {\r\n\r\n\t\t\t//avisar(\" \" + token )\r\n\r\n\t\t\tconst headers = {\r\n\t\t\t\t'Authorization': 'Bearer ' + await AsyncStorage.getItem('@eContractRh:token')\r\n\t\t\t}\r\n\r\n\r\n\t\t\tconst id_func = await AsyncStorage.getItem('@eContractRh:id_func');\r\n\t\t\tconsole.log(\"id: \" + id_func)\r\n\r\n\t\t\tawait api.get(\"/v1/protected/demonstrativo/\" + id_func + \"/\" + moment(date).format(\"MM/yyyy\"), {\r\n\t\t\t\theaders: headers\r\n\t\t\t}).then(function (response) {\r\n\t\t\t\tsetDemonstrativo(response.data)\r\n\t\t\t\tconsole.log(\" dados: \" + response.data);\r\n\r\n\t\t\t});\r\n\r\n\r\n\r\n\t\t} catch (_err) {\r\n\t\t\t// avisar('Houve um problema com o login, verifique suas credenciais! ' + cpf + \" \" + senha );\r\n\t\t\tavisar(\" \" + _err);\r\n\t\t\tconsole.log(\" \" + _err)\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tasync function changeScreenOrientation() {\r\n\t\tawait ScreenOrientation.lockAsync(ScreenOrientation.OrientationLock.LANDSCAPE);\r\n\t}\r\n\r\n\r\n\r\n\tuseEffect(() => {\r\n\r\n\r\n\t\tconst unsubscribe = navigation.addListener('focus', () => {\r\n\t\t\tconsole.log('Screen is focused');\r\n\r\n\t\t\tchangeScreenOrientation();\r\n\t\t\tdadosIniciais();\r\n\r\n\t\t});\r\n\r\n\t\treturn unsubscribe;\r\n\r\n\r\n\t}, []);\r\n\r\n\r\n\r\n\treturn (\r\n\r\n\t\t<View style={{ width: '100%', height: '100%' }}>\r\n\t\t\t<View style={{ fontSize: 18, backgroundColor: 'rgba(255,255,255,1)' }}>\r\n\t\t\t\t{show && (\r\n\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\tstyle={{ widht: 200, fontSize: 18 }}\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tmode={mode}\r\n\t\t\t\t\t\tdisplay=\"default\"\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</View>\r\n\r\n\t\t\t<View style={{ width: '100%' }}>\r\n\t\t\t\t<Text style={{ width: '100%' ,backgroundColor: 'blue', padding: 10, fontSize: 20, color: 'white', textAlign: 'center' }}> Demonstrativo de Ponto </Text>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tbuttonStyle={styles.button, { fontWeight: 'bold'}}\r\n\t\t\t\t\tonPress={showDatepicker}\r\n\t\t\t\t\ttitle={moment(date).format(\"MM/yyyy\")}\r\n\r\n\t\t\t\t/>\r\n\t\t\t\t<ListaVertical dados={demonstrativo} />\r\n\t\t\t</View>\r\n\t\t\t\r\n\r\n\t\t</View>\r\n\r\n\t);\r\n};\r\n\r\n\r\nconst PontoDiario = ({ item }) => (\r\n\t<View style={styles.containerCol, { marginBottom: 3, backgroundColor: 'white' }}>\r\n\t\t<View style={{ flexDirection: 'row' }}>\r\n\r\n\t\t\t<Text style={{ margin: 10, color: 'black', fontSize: 16, textTransform: 'capitalize' }}>\r\n\t\t\t\t{item.dia_da_semana}\r\n\t\t\t</Text>\r\n\r\n\t\t\t<Text style={{ margin: 10, color: 'black', fontSize: 16, textTransform: 'capitalize' }}>\r\n\t\t\t\t{item.data}\r\n\r\n\t\t\t</Text>\r\n\t\t</View>\r\n\r\n\t\t<View style={{ flexDirection: 'row' }}>\r\n\t\t\t<View style={styles.coluna, { marginLeft: 40, marginBottom: 20, width: '50%' }}>\r\n\r\n\t\t\t\t<Linha campo='Entrada 1: ' valor={item.entrada1} cor='black'/>\r\n\t\t\t\t<Linha campo='    Saída 1: ' valor={item.saida1} cor='black'/>\r\n\t\t\t\t<Linha campo='Entrada 2: ' valor={item.entrada2} cor='black'/>\r\n\t\t\t\t<Linha campo='    Saída 2: ' valor={item.saida2} cor='black'/>\r\n\t\t\t\t<Linha campo='Entrada 3: ' valor={item.entrada3} cor='black'/>\r\n\t\t\t\t<Linha campo='    Saída 3: ' valor={item.saida3} cor='black'/>\r\n\t\t\t</View>\r\n\r\n\t\t\t<View style={styles.coluna, { marginRight: 40, width: '50%' }}>\r\n\r\n\t\t\t\t<Linha campo='          Horas Diárias: ' valor={item.hora_diaria} cor='black'/>\r\n\t\t\t\t<Linha campo='Horas Trabalhadas: ' valor={item.hora_trabalhada} cor='blue' />\r\n\t\t\t\t<Linha campo='           Horas Extras: ' valor={item.hora_extra} cor='green'/>\r\n\t\t\t\t<Linha campo='     Horas de Atrazo: ' valor={item.hora_atrazo} cor='red'/>\r\n\t\t\t\t<Linha campo='      Horas Noturnas: ' valor={item.hora_noturna} cor='brown'/>\r\n\t\t\t</View>\r\n\t\t</View>\r\n\r\n\t</View>\r\n);\r\n\r\nconst Linha = (props) => {\r\n\r\n\treturn (\r\n\t\t<View style={styles.linha}>\r\n\r\n\t\t\t<View >\r\n\t\t\t\t<Text style={{ color: 'black', fontSize: 16, textAlign: 'right' }} >{props.campo}</Text>\r\n\t\t\t</View>\r\n\t\t\t<View >\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\tprops.valor == \"DS\" || props.valor == \"INSENÇÃO DE PONTO\" || props.valor == \"FALTA\" || props.valor == \"FOLGA\" ?\r\n\t\t\t\t\t\t<Text style={{ borderBottomWidth: 1, fontSize: 16, borderColor: '#fff', color: 'black', textTransform: 'capitalize' }} >{props.valor}</Text>\r\n\r\n\t\t\t\t\t\t: <Text style={{ borderBottomWidth: 1, fontWeight: 'bold', fontSize: 16, borderColor: '#fff', color: props.cor }} >{props.valor}h</Text>\r\n\r\n\t\t\t\t}\r\n\t\t\t</View>\r\n\r\n\t\t</View>\r\n\t);\r\n}\r\n\r\nconst CardVertical = ({ item }) => {\r\n\treturn (\r\n\r\n\t\t<PontoDiario\r\n\t\t\titem={item}\r\n\t\t/>\r\n\r\n\r\n\t);\r\n}\r\n\r\nconst ListaVertical = (props) => {\r\n\treturn (\r\n\r\n\r\n\t\t<FlatList\r\n\t\t\tnumColumns={1}\r\n\t\t\tdata={props.dados}\r\n\t\t\trenderItem={CardVertical}\r\n\t\t\tkeyExtractor={(item) => item.id.toString()}\r\n\t\t\tcontentContainerStyle={{ paddingBottom: 100 }}\r\n\r\n\t\t/>\r\n\r\n\t);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}